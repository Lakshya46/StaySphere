<nav class="navbar navbar-expand-md navbar-light bg-white shadow-sm sticky-top border-bottom">
  <div class="container-fluid">

    <!-- Brand -->
    <a class="navbar-brand fw-bold d-flex align-items-center gap-2" href="/">
      <i class="fa-solid fa-compass fs-4 text-primary"></i>
      <span class="fs-4" style="color: #0d6efd;">StaySphere</span>
    </a>

    <!-- Toggler for mobile -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Navbar links -->
    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
      <ul class="navbar-nav mb-2 mb-md-0 align-items-md-center gap-2 flex-wrap">
        <li class="nav-item">
          <a class="nav-link px-3 fw-medium" href="/listings">Explore</a>
        </li>
        <li class="nav-item">
          <a class="nav-link px-3 fw-medium" href="/listings/new">New Listing</a>
        </li>

        <% if (!currentuser) { %>
          <li class="nav-item">
            <a class="nav-link px-3 fw-medium" href="/users/signup">Sign Up</a>
          </li>
          <li class="nav-item">
            <a class="nav-link px-3 fw-medium" href="/users/login">Login</a>
          </li>
        <% } %>

        <% if (currentuser) { %>
          <li class="nav-item">
            <a class="nav-link px-3 fw-medium" href="/users/guest/bookings/upcoming">My Bookings</a>
          </li>
          <li class="nav-item">
            <a class="nav-link px-3 fw-medium" href="/users/profile">My Profile</a>
          </li>
          <li class="nav-item">
            <a class="nav-link px-3 fw-medium text-danger fw-semibold" href="/users/logout">Logout</a>
          </li>
        <% } %>
      </ul>
    </div>

  </div>
</nav>

<style>
  /* Navbar links */
  .navbar .nav-link {
    color: #555 !important;
    position: relative;
    transition: color 0.3s ease;
    white-space: nowrap;
  }

  .navbar .nav-link:hover {
    color: #0d6efd !important;
  }

  /* Underline animation for links */
  .navbar .nav-link::after {
    content: "";
    position: absolute;
    width: 0%;
    height: 2px;
    left: 0;
    bottom: 0;
    background-color: #0d6efd;
    transition: width 0.3s;
  }

  .navbar .nav-link:hover::after {
    width: 100%;
  }

  /* Logout as red hover button effect */


  /* Mobile adjustments */
  @media (max-width: 767px) {
    .navbar-nav {
      gap: 0.5rem;
    }

    .navbar-nav .nav-link {
      padding: 0.5rem 1rem;
    }

    .navbar-collapse {
      background-color: #fff;
      padding: 1rem;
      border-radius: 0 0 10px 10px;
    }
  }
</style>
