<% layout("./layouts/boilerplate.ejs") %>

<div class="container d-flex justify-content-center align-items-center min-vh-100 bg-gradient">
  <div class="card login-card shadow-lg border-0 rounded-4 p-5 col-lg-5 col-md-7 col-sm-10">

    <!-- Heading -->
    <div class="text-center mb-4">
      <h3 class="fw-bold text-primary">Welcome Back!</h3>
      <p class="text-muted small">Login to your StaySphere account</p>
    </div>

    <!-- Login Form -->
    <form action="/users/login" method="post" class="needs-validation" novalidate>
      
      <!-- Username -->
      <div class="mb-3">
        <input 
          type="text" 
          name="email" 
          id="email" 
          class="form-control form-control-lg rounded-3" 
          placeholder="Email" 
          required
        />
        <div class="invalid-feedback">Please enter a valid username.</div>
      </div>

      <!-- Password -->
      <div class="mb-3">
        <div class="input-group">
          <input 
            type="password" 
            name="password" 
            id="password" 
            class="form-control form-control-lg rounded-3" 
            placeholder="Password" 
            required
            
          />
          
        </div>
        <div class="invalid-feedback">Please enter a valid password.</div>
      </div>

     

      <!-- Login Button -->
      <button class="btn btn-gradient w-100 rounded-3 py-2 fw-semibold mb-3">Login</button>
    </form>

    <!-- Divider -->
    <div class="text-center my-3 text-muted">OR</div>

    <!-- Signup Button -->
    <form action="/users/signup" method="get">
      <button class="btn btn-outline-primary w-100 rounded-3 py-2 fw-semibold">Create Account</button>
    </form>

  </div>
</div>

<style>
  body {
    background: #f0f4f8;
    font-family: 'Segoe UI', sans-serif;
  }

  .bg-gradient {
    background: linear-gradient(135deg, #e0f7ff, #f0f4f8);
  }

  .login-card {
    background: rgba(255,255,255,0.9);
    backdrop-filter: blur(12px);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .login-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(0,0,0,0.2);
  }

  .btn-gradient {
    background: linear-gradient(135deg, #156ef3, #2f85ff);
    color: #fff;
    border: none;
    font-size: 1rem;
    font-weight: 500;
    transition: transform 0.2s, box-shadow 0.2s;
  }
  .btn-gradient:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(21, 110, 243, 0.4);
  }

  .form-control:focus {
    border-color: #156ef3;
    box-shadow: 0 0 0 0.2rem rgba(21,110,243,0.25);
  }

  .input-group .form-control {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  #togglePassword {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    border-left: 0;
  }

  a {
    transition: color 0.2s;
  }
  a:hover {
    color: #156ef3;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const togglePassword = document.getElementById('togglePassword');
    const passwordInput = document.getElementById('password');
    const toggleIcon = document.getElementById('toggleIcon');

    togglePassword.addEventListener('click', function () {
      const type = passwordInput.type === 'password' ? 'text' : 'password';
      passwordInput.type = type;
      toggleIcon.classList.toggle('fa-eye');
      toggleIcon.classList.toggle('fa-eye-slash');
    });
  });
</script>
